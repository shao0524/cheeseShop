(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d7710f16"],{"057f":function(t,e,a){var i=a("fc6a"),r=a("241c").f,n={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],o=function(t){try{return r(t)}catch(e){return s.slice()}};t.exports.f=function(t){return s&&"[object Window]"==n.call(t)?o(t):r(i(t))}},"159b":function(t,e,a){var i=a("da84"),r=a("fdbc"),n=a("785a"),s=a("17c2"),o=a("9112"),c=function(t){if(t&&t.forEach!==s)try{o(t,"forEach",s)}catch(e){t.forEach=s}};for(var l in r)r[l]&&c(i[l]&&i[l].prototype);c(n)},"17c2":function(t,e,a){"use strict";var i=a("b727").forEach,r=a("a640"),n=r("forEach");t.exports=n?[].forEach:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}},"466d":function(t,e,a){"use strict";var i=a("d784"),r=a("825a"),n=a("50c4"),s=a("577e"),o=a("1d80"),c=a("dc4a"),l=a("8aa5"),u=a("14c3");i("match",(function(t,e,a){return[function(e){var a=o(this),i=void 0==e?void 0:c(e,t);return i?i.call(e,a):new RegExp(e)[t](s(a))},function(t){var i=r(this),o=s(t),c=a(e,i,o);if(c.done)return c.value;if(!i.global)return u(i,o);var f=i.unicode;i.lastIndex=0;var d,v=[],p=0;while(null!==(d=u(i,o))){var h=s(d[0]);v[p]=h,""===h&&(i.lastIndex=l(o,n(i.lastIndex),f)),p++}return 0===p?null:v}]}))},"4df4":function(t,e,a){"use strict";var i=a("0366"),r=a("7b0b"),n=a("9bdd"),s=a("e95a"),o=a("68ee"),c=a("07fa"),l=a("8418"),u=a("9a1f"),f=a("35a1");t.exports=function(t){var e=r(t),a=o(this),d=arguments.length,v=d>1?arguments[1]:void 0,p=void 0!==v;p&&(v=i(v,d>2?arguments[2]:void 0,2));var h,m,g,b,x,y,C=f(e),w=0;if(!C||this==Array&&s(C))for(h=c(e),m=a?new this(h):Array(h);h>w;w++)y=p?v(e[w],w):e[w],l(m,w,y);else for(b=u(e,C),x=b.next,m=a?new this:[];!(g=x.call(b)).done;w++)y=p?n(b,v,[g.value,w],!0):g.value,l(m,w,y);return m.length=w,m}},6062:function(t,e,a){"use strict";var i=a("6d61"),r=a("6566");t.exports=i("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),r)},6566:function(t,e,a){"use strict";var i=a("9bf2").f,r=a("7c73"),n=a("e2cc"),s=a("0366"),o=a("19aa"),c=a("2266"),l=a("7dd0"),u=a("2626"),f=a("83ab"),d=a("f183").fastKey,v=a("69f3"),p=v.set,h=v.getterFor;t.exports={getConstructor:function(t,e,a,l){var u=t((function(t,i){o(t,u,e),p(t,{type:e,index:r(null),first:void 0,last:void 0,size:0}),f||(t.size=0),void 0!=i&&c(i,t[l],{that:t,AS_ENTRIES:a})})),v=h(e),m=function(t,e,a){var i,r,n=v(t),s=g(t,e);return s?s.value=a:(n.last=s={index:r=d(e,!0),key:e,value:a,previous:i=n.last,next:void 0,removed:!1},n.first||(n.first=s),i&&(i.next=s),f?n.size++:t.size++,"F"!==r&&(n.index[r]=s)),t},g=function(t,e){var a,i=v(t),r=d(e);if("F"!==r)return i.index[r];for(a=i.first;a;a=a.next)if(a.key==e)return a};return n(u.prototype,{clear:function(){var t=this,e=v(t),a=e.index,i=e.first;while(i)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete a[i.index],i=i.next;e.first=e.last=void 0,f?e.size=0:t.size=0},delete:function(t){var e=this,a=v(e),i=g(e,t);if(i){var r=i.next,n=i.previous;delete a.index[i.index],i.removed=!0,n&&(n.next=r),r&&(r.previous=n),a.first==i&&(a.first=r),a.last==i&&(a.last=n),f?a.size--:e.size--}return!!i},forEach:function(t){var e,a=v(this),i=s(t,arguments.length>1?arguments[1]:void 0,3);while(e=e?e.next:a.first){i(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!g(this,t)}}),n(u.prototype,a?{get:function(t){var e=g(this,t);return e&&e.value},set:function(t,e){return m(this,0===t?0:t,e)}}:{add:function(t){return m(this,t=0===t?0:t,t)}}),f&&i(u.prototype,"size",{get:function(){return v(this).size}}),u},setStrong:function(t,e,a){var i=e+" Iterator",r=h(e),n=h(i);l(t,e,(function(t,e){p(this,{type:i,target:t,state:r(t),kind:e,last:void 0})}),(function(){var t=n(this),e=t.kind,a=t.last;while(a&&a.removed)a=a.previous;return t.target&&(t.last=a=a?a.next:t.state.first)?"keys"==e?{value:a.key,done:!1}:"values"==e?{value:a.value,done:!1}:{value:[a.key,a.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),a?"entries":"values",!a,!0),u(e)}}},"6d61":function(t,e,a){"use strict";var i=a("23e7"),r=a("da84"),n=a("94ca"),s=a("6eeb"),o=a("f183"),c=a("2266"),l=a("19aa"),u=a("1626"),f=a("861d"),d=a("d039"),v=a("1c7e"),p=a("d44e"),h=a("7156");t.exports=function(t,e,a){var m=-1!==t.indexOf("Map"),g=-1!==t.indexOf("Weak"),b=m?"set":"add",x=r[t],y=x&&x.prototype,C=x,w={},$=function(t){var e=y[t];s(y,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(g&&!f(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return g&&!f(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(g&&!f(t))&&e.call(this,0===t?0:t)}:function(t,a){return e.call(this,0===t?0:t,a),this})},_=n(t,!u(x)||!(g||y.forEach&&!d((function(){(new x).entries().next()}))));if(_)C=a.getConstructor(e,t,m,b),o.enable();else if(n(t,!0)){var k=new C,P=k[b](g?{}:-0,1)!=k,E=d((function(){k.has(1)})),j=v((function(t){new x(t)})),O=!g&&d((function(){var t=new x,e=5;while(e--)t[b](e,e);return!t.has(-0)}));j||(C=e((function(e,a){l(e,C,t);var i=h(new x,e,C);return void 0!=a&&c(a,i[b],{that:i,AS_ENTRIES:m}),i})),C.prototype=y,y.constructor=C),(E||O)&&($("delete"),$("has"),m&&$("get")),(O||P)&&$(b),g&&y.clear&&delete y.clear}return w[t]=C,i({global:!0,forced:C!=x},w),p(C,t),g||a.setStrong(C,t,m),C}},7156:function(t,e,a){var i=a("1626"),r=a("861d"),n=a("d2bb");t.exports=function(t,e,a){var s,o;return n&&i(s=e.constructor)&&s!==a&&r(o=s.prototype)&&o!==a.prototype&&n(t,o),t}},"99af":function(t,e,a){"use strict";var i=a("23e7"),r=a("d039"),n=a("e8b5"),s=a("861d"),o=a("7b0b"),c=a("07fa"),l=a("8418"),u=a("65f0"),f=a("1dde"),d=a("b622"),v=a("2d00"),p=d("isConcatSpreadable"),h=9007199254740991,m="Maximum allowed index exceeded",g=v>=51||!r((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),b=f("concat"),x=function(t){if(!s(t))return!1;var e=t[p];return void 0!==e?!!e:n(t)},y=!g||!b;i({target:"Array",proto:!0,forced:y},{concat:function(t){var e,a,i,r,n,s=o(this),f=u(s,0),d=0;for(e=-1,i=arguments.length;e<i;e++)if(n=-1===e?s:arguments[e],x(n)){if(r=c(n),d+r>h)throw TypeError(m);for(a=0;a<r;a++,d++)a in n&&l(f,d,n[a])}else{if(d>=h)throw TypeError(m);l(f,d++,n)}return f.length=d,f}})},"9a87":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("button",{staticClass:"btn text-secondary",class:{"text-danger":t.is_follow},attrs:{type:"button"},on:{click:function(e){t.is_follow?t.removeFavorite():t.addFavorite()}}},[a("i",{staticClass:"fab fa-gratipay fa-2x"})])])},r=[],n={props:["item","is_follow"],methods:{addFavorite:function(){var t=this;t.$bus.$emit("productList:add",t.item),t.$bus.$emit("productInfo:add",t.item),t.$bus.$emit("favorite:add",t.item),t.$bus.$emit("home:add",t.item),t.$bus.$emit("swiper:update"),t.$bus.$emit("Alert:success","".concat(t.item.title,"已加入收藏"))},removeFavorite:function(){var t=this;t.$bus.$emit("productInfo:remove",t.item),t.$bus.$emit("productList:remove",t.item),t.$bus.$emit("favorite:remove",t.item),t.$bus.$emit("home:remove",t.item),t.$bus.$emit("swiper:update"),t.$bus.$emit("Alert:error","".concat(t.item.title,"已從收藏中移除"))}}},s=n,o=a("2877"),c=Object(o["a"])(s,i,r,!1,null,null,null);e["a"]=c.exports},"9bdd":function(t,e,a){var i=a("825a"),r=a("2a62");t.exports=function(t,e,a,n){try{return n?e(i(a)[0],a[1]):e(a)}catch(s){r(t,"throw",s)}}},"9d3d":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card shadow-3 border-0 h-100",attrs:{"data-aos":"fade-zoom-in","data-aos-once":"true"}},[a("div",{staticClass:"card-head position-relative"},[a("img",{staticClass:"image",staticStyle:{height:"auto",width:"100%"},attrs:{src:t.item.imageUrl,alt:t.item.title}}),a("router-link",{staticClass:"mask",attrs:{to:"/products/item/"+t.item.id},nativeOn:{click:function(e){return t.$bus.$emit("updateInfo")}}})],1),a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title text-center my-1 my-lg-2"},[t._v(" "+t._s(t.item.title)+" ")]),a("h5",{staticClass:"card-title text-center my-1 my-lg-2"},[t._v(" "+t._s(t.item.titleEng)+" ")]),a("div",{staticClass:"mb-3 d-flex card-text justify-content-around"},[t.item.price!=t.item.origin_price?a("del",{staticClass:"mr-3 h5 mb-0"},[t._v(t._s(t._f("currency")(t.item.origin_price)))]):t._e(),a("span",{staticClass:"card-text h5",class:{"text-danger":t.item.price!==t.item.origin_price,"text-dark":t.item.price===t.item.origin_price}},[t._v(" "+t._s(t._f("currency")(t.item.price))+" ")])]),a("div",{staticClass:"text-center"},[a("div",{staticClass:"d-flex justify-content-around"},[a("FavoriteBtn",{attrs:{item:t.item,is_follow:t.is_follow}}),a("button",{staticClass:"btn btn-outline-primary h6",on:{click:function(e){return t.addCart(t.item)}}},[a("i",{staticClass:"fas fa-cart-plus"}),t._v(" 加入購物車 ")])],1)])])])},r=[],n=(a("c740"),a("9a87")),s={props:["item","favorites"],data:function(){return{isClick:!0}},components:{FavoriteBtn:n["a"]},methods:{addCart:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=this;a.$bus.$emit("sidebar:addtoCart",t,e),a.$bus.$emit("navbarCartList:update");var i="".concat(t.title," 加入購物車");a.$bus.$emit("alert",i,!0)}},computed:{is_follow:function(){var t=this,e=this.favorites.findIndex((function(e){return e.id===t.item.id}));return-1!==e}}},o=s,c=a("2877"),l=Object(c["a"])(o,i,r,!1,null,null,null);e["a"]=l.exports},a630:function(t,e,a){var i=a("23e7"),r=a("4df4"),n=a("1c7e"),s=!n((function(t){Array.from(t)}));i({target:"Array",stat:!0,forced:s},{from:r})},a640:function(t,e,a){"use strict";var i=a("d039");t.exports=function(t,e){var a=[][t];return!!a&&i((function(){a.call(null,e||function(){throw 1},1)}))}},aea9:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Carousel"),a("div",{staticClass:"container"},[a("div",{staticClass:"mt-3 mt-lg-3"},[a("div",{staticClass:"mb-3"},[a("div",{staticClass:"form-row justify-content-end"},[a("div",{staticClass:"col-12 col-md-12 col-lg-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],staticClass:"form-control w-100 mx-auto",attrs:{type:"text",id:"search",placeholder:"請輸入商品名稱"},domProps:{value:t.searchText},on:{input:function(e){e.target.composing||(t.searchText=e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-12 col-lg-3 mb-3"},[a("ProductCategory",{attrs:{categories:t.categories},on:{changeCategory:t.changeCategory}})],1),a("div",{staticClass:"col-12 col-md-12 col-lg-9",attrs:{id:"Card"}},[a("div",{staticClass:"row"},t._l(t.filter(t.currentPage),(function(e){return a("div",{key:e.id,staticClass:"col-12 col-md-6 col-lg-4 mb-3"},[a("ProductCard",{attrs:{item:e,favorites:t.favorites}})],1)})),0),a("Pagination",{staticClass:"py-3",attrs:{pagination:t.pagination},on:{changePage:t.changePage}})],1)])])])],1)},r=[],n=(a("99af"),a("4de4"),a("ac1f"),a("466d"),a("159b"),a("d3b7"),a("6062"),a("3ca3"),a("ddb0"),a("a630"),a("c740"),a("a434"),function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"carousel slide carousel-fade",attrs:{id:"carouselExampleFade","data-ride":"carousel"}},[a("div",{staticClass:"carousel-inner",staticStyle:{"max-height":"500px"}},[a("div",{staticClass:"carousel-item active"},[a("img",{staticClass:"d-block w-100",attrs:{src:"https://images.unsplash.com/photo-1552767059-ce182ead6c1b?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1920&q=80",alt:""}})]),a("div",{staticClass:"carousel-item"},[a("img",{staticClass:"d-block w-100",attrs:{src:"https://images.unsplash.com/photo-1570458140175-45ce6429fabf?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1920&q=80",alt:""}})]),a("div",{staticClass:"carousel-item"},[a("img",{staticClass:"d-block w-100",attrs:{src:"https://images.unsplash.com/photo-1634925353703-451b16b6d1a8?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1920&q=80",alt:""}})])])])])}],o=a("2877"),c={},l=Object(o["a"])(c,n,s,!1,null,null,null),u=l.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"listGroup"},[t._m(0),a("ul",{staticClass:"listGroup-body"},[a("li",{staticClass:"listGroup-item",class:{"listGroup-item-active":"全部商品"==t.clickedCategory}},[a("a",{staticClass:"listGroup-item-link",attrs:{href:"#Card"},on:{click:function(e){e.preventDefault(),t.changeCategory("全部商品"),t.scoller()}}},[t._v("全部商品")])]),t._l(t.categories,(function(e,i){return a("li",{key:i,staticClass:"listGroup-item",class:{"listGroup-item-active":t.clickedCategory==e}},[a("a",{staticClass:"listGroup-item-link",attrs:{href:"#Card"},on:{click:function(a){a.preventDefault(),t.changeCategory(e),t.scoller()}}},[t._v(t._s(e))])])}))],2)])])},d=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"listGroup-header"},[a("h4",{staticClass:"listGroup-header-title"},[t._v("起司分類")])])}],v=a("1157"),p=a.n(v),h={props:["categories"],data:function(){return{clickedCategory:"全部商品"}},methods:{changeCategory:function(t){var e=this;e.clickedCategory=t,e.$emit("changeCategory",t)},scoller:function(){p()("html,body").animate({scrollTop:p()("#Card").offset().top},500)}},created:function(){var t=this.$route.params.category;t&&this.changeCategory(t)}},m=h,g=Object(o["a"])(m,f,d,!1,null,null,null),b=g.exports,x=a("9d3d"),y=a("d529"),C={name:"ProductList",components:{Carousel:u,ProductCategory:b,ProductCard:x["a"],Pagination:y["a"]},data:function(){return{favorites:[],allProducts:[],searchText:"",pagination:{},currentPage:"1",clickedCategory:"全部商品"}},methods:{getAllProduct:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("cheeseny","/products/all");t.$bus.$emit("isLoading",!0),this.$http.get(e).then((function(e){e.data.success&&(t.allProducts=e.data.products),t.$bus.$emit("isLoading",!1)})).catch((function(e){t.$bus.$emit("isLoading",!1),t.$bus.$emit("Alert:error",e)}))},filter:function(t){var e=this,a=[];if("全部商品"===e.clickedCategory){if(a=e.allProducts,e.searchText){var i=[];i=a.filter((function(t){return t.title.match(e.searchText)})),a=i}}else if(a=e.allProducts.filter((function(t){return t.category.match(e.clickedCategory)})),e.searchText){var r=[];r=a.filter((function(t){return t.title.match(e.searchText)})),a=r}var n=[];return a.forEach((function(e,a){parseInt(a/6)+1==t&&n.push(e)})),e.setPagination(a,t),n},setPagination:function(t,e){var a=this,i=parseInt(t.length/6)+1,r=!1,n=!1;1!=i&&(1==e?n=!0:e==i?r=!0:(r=!0,n=!0)),a.$set(a.pagination,"total_pages",i),a.$set(a.pagination,"current_page",e),a.$set(a.pagination,"has_pre",r),a.$set(a.pagination,"has_next",n)},changePage:function(t){var e=this;e.currentPage=t},changeCategory:function(t){var e=this;e.clickedCategory=t,e.currentPage=1},getFavorites:function(){var t=this;t.favorites=JSON.parse(localStorage.getItem("favorites"))||[]}},computed:{categories:function(){var t=new Set;return this.allProducts.forEach((function(e){t.add(e.category)})),Array.from(t)}},created:function(){var t=this;t.getAllProduct(),t.getFavorites(),t.$bus.$on("productList:add",(function(e){var a=t.favorites.findIndex((function(t){return t.id===e.id}));-1===a&&(t.favorites.push(e),localStorage.setItem("favorites",JSON.stringify(t.favorites)),t.$bus.$emit("navbarFavorites:update"))})),t.$bus.$on("productList:remove",(function(e){var a=t.favorites.findIndex((function(t){return t.id===e.id}));-1!==a&&(t.favorites.splice(a,1),localStorage.setItem("favorites",JSON.stringify(t.favorites)),t.$bus.$emit("navbarFavorites:update"))}))},beforeDestroy:function(){var t=this;t.$bus.$off("productList:add"),t.$bus.$off("productList:remove")}},w=C,$=Object(o["a"])(w,i,r,!1,null,null,null);e["default"]=$.exports},bb2f:function(t,e,a){var i=a("d039");t.exports=!i((function(){return Object.isExtensible(Object.preventExtensions({}))}))},d529:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("nav",{attrs:{"aria-label":"Page navigation example"}},[a("ul",{staticClass:"pagination justify-content-center"},[a("li",{staticClass:"page-item",class:{disabled:!t.pagination.has_pre}},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(e){e.preventDefault(),t.changePage(parseInt(t.pagination.current_page)-1)}}},[a("i",{staticClass:"fas fa-arrow-alt-circle-left"})])]),t._l(t.pagination.total_pages,(function(e,i){return a("li",{key:i,staticClass:"page-item",class:{active:e==t.pagination.current_page}},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.changePage(e)}}},[t._v(t._s(e))])])})),a("li",{staticClass:"page-item",class:{disabled:!t.pagination.has_next}},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(e){e.preventDefault(),t.changePage(parseInt(t.pagination.current_page)+1)}}},[a("i",{staticClass:"fas fa-arrow-alt-circle-right"})])])],2)])])},r=[],n={props:["pagination"],methods:{changePage:function(t){var e=this;console.log(t),e.$emit("changePage",t)}}},s=n,o=a("2877"),c=Object(o["a"])(s,i,r,!1,null,null,null);e["a"]=c.exports},f183:function(t,e,a){var i=a("23e7"),r=a("d012"),n=a("861d"),s=a("1a2d"),o=a("9bf2").f,c=a("241c"),l=a("057f"),u=a("90e3"),f=a("bb2f"),d=!1,v=u("meta"),p=0,h=Object.isExtensible||function(){return!0},m=function(t){o(t,v,{value:{objectID:"O"+p++,weakData:{}}})},g=function(t,e){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,v)){if(!h(t))return"F";if(!e)return"E";m(t)}return t[v].objectID},b=function(t,e){if(!s(t,v)){if(!h(t))return!0;if(!e)return!1;m(t)}return t[v].weakData},x=function(t){return f&&d&&h(t)&&!s(t,v)&&m(t),t},y=function(){C.enable=function(){},d=!0;var t=c.f,e=[].splice,a={};a[v]=1,t(a).length&&(c.f=function(a){for(var i=t(a),r=0,n=i.length;r<n;r++)if(i[r]===v){e.call(i,r,1);break}return i},i({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},C=t.exports={enable:y,fastKey:g,getWeakData:b,onFreeze:x};r[v]=!0}}]);
//# sourceMappingURL=chunk-d7710f16.ebb409cc.js.map