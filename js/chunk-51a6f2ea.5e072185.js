(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-51a6f2ea"],{"0cb2":function(t,i,a){var s=a("7b0b"),e=Math.floor,n="".replace,r=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,i,a,o,l,u){var f=a+t.length,d=o.length,v=c;return void 0!==l&&(l=s(l),v=r),n.call(u,v,(function(s,n){var r;switch(n.charAt(0)){case"$":return"$";case"&":return t;case"`":return i.slice(0,a);case"'":return i.slice(f);case"<":r=l[n.slice(1,-1)];break;default:var c=+n;if(0===c)return s;if(c>d){var u=e(c/10);return 0===u?s:u<=d?void 0===o[u-1]?n.charAt(1):o[u-1]+n.charAt(1):s}r=o[c-1]}return void 0===r?"":r}))}},"159b":function(t,i,a){var s=a("da84"),e=a("fdbc"),n=a("785a"),r=a("17c2"),c=a("9112"),o=function(t){if(t&&t.forEach!==r)try{c(t,"forEach",r)}catch(i){t.forEach=r}};for(var l in e)e[l]&&o(s[l]&&s[l].prototype);o(n)},"17c2":function(t,i,a){"use strict";var s=a("b727").forEach,e=a("a640"),n=e("forEach");t.exports=n?[].forEach:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}},5319:function(t,i,a){"use strict";var s=a("d784"),e=a("d039"),n=a("825a"),r=a("1626"),c=a("5926"),o=a("50c4"),l=a("577e"),u=a("1d80"),f=a("8aa5"),d=a("dc4a"),v=a("0cb2"),b=a("14c3"),h=a("b622"),p=h("replace"),C=Math.max,g=Math.min,m=function(t){return void 0===t?t:String(t)},$=function(){return"$0"==="a".replace(/./,"$0")}(),k=function(){return!!/./[p]&&""===/./[p]("a","$0")}(),L=!e((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}));s("replace",(function(t,i,a){var s=k?"$":"$0";return[function(t,a){var s=u(this),e=void 0==t?void 0:d(t,p);return e?e.call(t,s,a):i.call(l(s),t,a)},function(t,e){var u=n(this),d=l(t);if("string"===typeof e&&-1===e.indexOf(s)&&-1===e.indexOf("$<")){var h=a(i,u,d,e);if(h.done)return h.value}var p=r(e);p||(e=l(e));var $=u.global;if($){var k=u.unicode;u.lastIndex=0}var L=[];while(1){var _=b(u,d);if(null===_)break;if(L.push(_),!$)break;var x=l(_[0]);""===x&&(u.lastIndex=f(d,o(u.lastIndex),k))}for(var y="",w=0,S=0;S<L.length;S++){_=L[S];for(var D=l(_[0]),T=C(g(c(_.index),d.length),0),O=[],I=1;I<_.length;I++)O.push(m(_[I]));var E=_.groups;if(p){var A=[D].concat(O,T,d);void 0!==E&&A.push(E);var B=l(e.apply(void 0,A))}else B=v(D,d,T,O,E,e);T>=w&&(y+=d.slice(w,T)+B,w=T+D.length)}return y+d.slice(w)}]}),!L||!$||k)},a640:function(t,i,a){"use strict";var s=a("d039");t.exports=function(t,i){var a=[][t];return!!a&&s((function(){a.call(null,i||function(){throw 1},1)}))}},d9ce:function(t,i,a){"use strict";a.r(i);var s=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",[a("div",{staticClass:"container-fluid px-0 position-relative"},[a("div",{staticClass:"d-flex"},[a("CartList"),a("div",{staticClass:"container-fluid px-0"},[a("Navbar",{staticClass:"sticky-top"}),a("router-view"),a("Footer")],1)],1)]),a("button",{staticClass:"scollTopBtn",attrs:{type:"button"},on:{click:function(i){return i.preventDefault(),t.scrollTop.apply(null,arguments)}}},[a("i",{staticClass:"fas fa-arrow-up fa-2x"})])])},e=[],n=a("1157"),r=a.n(n),c=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",[a("nav",{staticClass:"nb"},[a("router-link",{attrs:{to:"/"}},[a("h1",{staticClass:"nb-logo nb-logo logoStyle"},[t._v("Cheeseny")])]),a("button",{staticClass:"nb-toggleBtn",class:{"nb-toggleBtn-active":t.isToggleClick},attrs:{type:"button"},on:{click:function(i){t.isToggleClick=!t.isToggleClick}}},[a("i",{staticClass:"fas fa-bars"})]),a("div",{staticClass:"nb-collapse",class:{"nb-collapse-active":t.isToggleClick}},[a("ul",{staticClass:"nb-nav"},[a("li",{staticClass:"nb-nav-item"},[a("router-link",{staticClass:"nb-nav-item-link",class:{"nb-nav-item-link-active":"Home"===this.$route.name},attrs:{to:"/"},nativeOn:{click:function(i){t.isToggleClick=!1}}},[t._v("首頁")])],1),a("li",{staticClass:"nb-nav-item"},[a("router-link",{staticClass:"nb-nav-item-link",class:{"nb-nav-item-link-active":"About"==this.$route.name},attrs:{to:"/about"},nativeOn:{click:function(i){t.isToggleClick=!1}}},[t._v("關於起司")])],1),a("li",{staticClass:"nb-nav-item"},[a("router-link",{staticClass:"nb-nav-item-link",class:{"nb-nav-item-link-active":"ProductList"===this.$route.name},attrs:{to:"/products/productList/全部商品"},nativeOn:{click:function(i){t.isToggleClick=!1}}},[t._v("產品介紹")])],1),a("li",{staticClass:"nb-nav-item"},[a("router-link",{staticClass:"nb-nav-item-link",class:{"nb-nav-item-link-active":"Event"===this.$route.name},attrs:{to:"/event"},nativeOn:{click:function(i){t.isToggleClick=!1}}},[t._v("優惠活動")])],1)]),a("div",{staticClass:"nb-btnGroup"},[a("div",{staticClass:"nb-btnGroup-item"},[a("button",{staticClass:"nb-btn",class:{"nb-btn-active":t.isLogin},attrs:{type:"button"},on:{click:function(i){return t.toFavorite()}}},[a("i",{staticClass:"fas fa-heart fa-2x"}),t.favoritesLen>0?a("span",{staticClass:"nb-badge nb-badge-color-danger"},[t._v(t._s(t.favoritesLen))]):t._e()])]),a("div",{staticClass:"nb-btnGroup-item"},[a("button",{staticClass:"nb-btn",class:{"nb-btn-active":t.isLogin},attrs:{type:"button"},on:{click:t.openCartList}},[a("i",{staticClass:"fas fa-shopping-cart fa-2x"}),t.cartLen>0?a("span",{staticClass:"nb-badge nb-badge-color-danger"},[t._v(t._s(t.cartLen))]):t._e()])]),a("div",{staticClass:"nb-btnGroup-item"},[a("div",{staticClass:"nb-dropDown"},[a("button",{staticClass:"nb-dropDown-toggle",class:{"nb-dropDown-toggle-active":t.isLogin},attrs:{type:"button"},on:{click:function(i){t.isUserBtnClick=!t.isUserBtnClick}}},[a("i",{staticClass:"fas fa-user-circle fa-2x"})])])])]),a("ul",{staticClass:"nb-dropDown-list",class:{"nb-dropDown-list-active":t.isUserBtnClick}},[t.isLogin?t._e():a("li",{staticClass:"nb-dropDown-list-item"},[t.isLogin?t._e():a("router-link",{staticClass:"\n              nb-dropDown-list-item-link nb-dropDown-list-item-link-danger\n            ",attrs:{to:"/login"}},[t._v("管理者登入")])],1),t.isLogin?a("li",{staticClass:"nb-dropDown-list-item"},[a("router-link",{staticClass:"\n              nb-dropDown-list-item-link nb-dropDown-list-item-link-danger\n            ",attrs:{to:"/admin"}},[t._v(" 後台")])],1):t._e(),t.isLogin?a("li",{staticClass:"nb-dropDown-list-item"},[a("button",{staticClass:"\n              nb-dropDown-list-item-link nb-dropDown-list-item-link-danger\n            ",attrs:{type:"button"},on:{click:t.signout}},[t._v(" 會員登出 ")])]):t._e()])])],1)])},o=[],l=(a("ac1f"),a("5319"),{data:function(){return{favorites:[],cartList:[],isToggleClick:!1,isUserBtnClick:!1}},methods:{signout:function(){var t=this,i=this,a="".concat("https://vue-course-api.hexschool.io","/logout");i.$bus.$emit("isLoading",!0),this.$http.post(a).then((function(a){a.data.success&&(document.cookie="cheese4ny=;expires=".concat(new Date(0).toGMTString()),t.$http.defaults.headers.common.Authorization="",i.$bus.$emit("isLoading",!1)),i.$router.go(0),i.$bus.$emit("Alert:success","已登出")})).catch((function(t){i.$bus.$emit("isLoading",!1),i.$bus.$emit("Alert:error",t)}))},checkLoginStatus:function(){var t=document.cookie.replace(/(?:(?:^|.*;\s*)cheese4ny\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=t},openCartList:function(){var t=this;t.$bus.$emit("openSiderbar",!0)},getCartList:function(){var t=this;t.cartList=JSON.parse(localStorage.getItem("cartList"))||[]},getFavorites:function(){var t=this;t.favorites=JSON.parse(localStorage.getItem("favorites"))||[]},toFavorite:function(){var t=this;t.isToggleClick=!1,t.$router.push("/favorite")}},computed:{isLogin:function(){var t=this;return this.$http.defaults.headers.common.Authorization?(t.$bus.$emit("signIn",!0),!0):(t.$bus.$emit("signIn",!1),!1)},cartLen:function(){var t=this;return t.cartList.length},favoritesLen:function(){var t=this;return t.favorites.length}},created:function(){var t=this;t.getCartList(),t.getFavorites(),t.checkLoginStatus(),t.$bus.$on("navbarCartList:update",(function(){t.getCartList()})),t.$bus.$on("navbarFavorites:update",(function(){t.getFavorites()})),t.$bus.$on("slideUpNavbar",(function(){t.isToggleClick=!1}))},mounted:function(){r()(".nb-dropDown-toggle").click((function(){r()(".nb-dropDown-list").slideToggle()}))},beforeDestroy:function(){var t=this;t.$bus.$off("navbarCartList:update"),t.$bus.$off("navbarFavorites:update")}}),u=l,f=a("2877"),d=Object(f["a"])(u,c,o,!1,null,null,null),v=d.exports,b=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"cartList",class:{active:t.isActive}},[a("div",{staticClass:"cartList-header"},[a("button",{staticClass:"cartList-header-closeBtn",attrs:{type:"button"},on:{click:t.closeSiderbar}},[a("i",{staticClass:"far fa-times-circle fa-2x"})])]),a("div",{staticClass:"cartList-body"},[t.itemLen<=0?a("h2",{staticClass:"cartList-body-title"},[t._v("目前購物車是空的")]):a("table",{staticClass:"cartList-table"},[t._m(0),a("tbody",{staticClass:"cartList-table-body"},t._l(t.cartList,(function(i){return a("tr",{key:i.id},[a("td",{attrs:{width:"80"}},[a("img",{attrs:{src:i.imageUrl,alt:i.title,width:"50",height:"50"}})]),a("td",{staticClass:"text-center align-middle"},[t._v(" "+t._s(i.title)+" ")]),a("td",{staticClass:"text-center align-middle",attrs:{width:"80"}},[t._v(" "+t._s(i.qty)+" ")]),a("td",{staticClass:"text-right align-middle",attrs:{width:"120"}},[t._v(" "+t._s(t._f("currency")(i.price*i.qty))+" ")]),a("td",{staticClass:"text-center align-middle",attrs:{width:"80"}},[a("button",{staticClass:"cartList-table-body-itemRemoveBtn",on:{click:function(a){return t.removeItem(i)}}},[a("i",{staticClass:"fas fa-trash"})])])])})),0),a("tfoot",[a("tr",[t._m(1),a("td",{staticClass:"text-right",staticStyle:{color:"#ff5f6f"},attrs:{colspan:"2"}},[a("h4",{staticClass:"h4 font-weight-bolder text-danger"},[t._v(" "+t._s(t._f("currency")(t.finalTotal))+" ")])])])])])]),a("div",{staticClass:"cartList-footer"},[t.itemLen>0?a("router-link",{staticClass:"cartList-footer-btn",attrs:{to:"/order"},nativeOn:{click:function(i){return t.closeSiderbar.apply(null,arguments)}}},[t._v(" 去結帳 ")]):a("router-link",{staticClass:"cartList-footer-btn",attrs:{to:"/products/productList/全部商品"},nativeOn:{click:function(i){return t.closeSiderbar.apply(null,arguments)}}},[t._v("去逛逛吧")])],1)])},h=[function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("thead",{staticClass:"cartList-table-header"},[a("tr",[a("th",{staticClass:"text-center",attrs:{width:"80"}},[t._v("#")]),a("th",{staticClass:"text-center"},[t._v("品名")]),a("th",{staticClass:"text-center",attrs:{width:"80"}},[t._v("數量")]),a("th",{staticClass:"text-center",attrs:{width:"120"}},[t._v("金額")]),a("th",{staticClass:"text-center",attrs:{width:"80"}},[t._v("刪除")])])])},function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("td",{staticClass:"text-right",attrs:{colspan:"3"}},[a("h4",{staticClass:"h4 font-weight-bolder text-white"},[t._v("總計")])])}],p=(a("c740"),a("a434"),a("159b"),{data:function(){return{isActive:!1,cartList:[]}},methods:{getCartList:function(){var t=this;t.cartList=JSON.parse(localStorage.getItem("cartList"))||[]},findIndex:function(t,i){return t.findIndex((function(t){return t.id===i}))},removeItem:function(t){var i=this,a=t.title;i.$bus.$emit("isLoading",!0);var s=i.findIndex(i.cartList,t.id);-1!==s&&(i.cartList.splice(s,1),localStorage.setItem("cartList",JSON.stringify(i.cartList)),i.getCartList(),i.$bus.$emit("navbarCartList:update"),i.$bus.$emit("alert","".concat(a," 從購物車移除"),!1),setTimeout((function(){i.$bus.$emit("isLoading",!1)}),1e3))},closeSiderbar:function(){var t=this;t.isActive=!1,t.$bus.$emit("slideUpNavbar")}},created:function(){var t=this;t.getCartList(),t.closeSiderbar(),t.$bus.$on("openSiderbar",(function(i){t.isActive=i})),t.$bus.$on("sidebar:addtoCart",(function(i,a){t.$bus.$emit("isLoading",!0);var s=t.cartList.findIndex((function(t){return t.id===i.id}));-1===s?(i.qty=a,t.cartList.push(i),localStorage.setItem("cartList",JSON.stringify(t.cartList))):(t.cartList[s].qty+=a,localStorage.setItem("cartList",JSON.stringify(t.cartList))),t.getCartList(),setTimeout((function(){t.$bus.$emit("isLoading",!1)}),1e3)})),t.$bus.$on("sidebar:cleanCart",(function(){localStorage.setItem("cartList",JSON.stringify([])),t.getCartList(),t.$bus.$emit("navbarCartList:update")})),t.$bus.$on("sidebar:update",(function(){t.getCartList()}))},computed:{finalTotal:function(){var t=this,i=0;return t.cartList.forEach((function(t){i+=t.price*t.qty})),i},itemLen:function(){var t=this;return t.cartList.length}},beforeDestroy:function(){var t=this;t.$bus.$off("openSiderbar"),t.$bus.$off("sidebar:cleanCart"),t.$bus.$off("sidebar:addtoCart"),t.$bus.$off("sidebar:update")}}),C=p,g=Object(f["a"])(C,b,h,!1,null,null,null),m=g.exports,$=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("footer",{staticClass:"footer"},[a("div",{staticClass:"footer-body"},[a("div",{staticClass:"container d-flex justify-content-between"},[a("div",{staticClass:"footer-iconBlock"},[a("h3",{staticClass:"footer-title"},[t._v("Cheeseny")]),a("div",{staticClass:"footer-iconBlock-iconGroup"},[a("a",{staticClass:"footer-iconBlock-iconGroup-icon",attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.tagClick.apply(null,arguments)}}},[a("i",{staticClass:"fab fa-facebook-square fa-2x"})]),a("a",{staticClass:"footer-iconBlock-iconGroup-icon",attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.tagClick.apply(null,arguments)}}},[a("i",{staticClass:"fab fa-line fa-2x"})]),t._m(0)])]),a("div",{staticClass:"footer-contact"},[a("h3",{staticClass:"footer-title"},[t._v("聯絡我們")]),a("ul",{staticClass:"footer-contact-list"},[a("li",{staticClass:"footer-contact-list-item"},[a("a",{staticClass:"footer-contact-list-item-link",attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.tagClick.apply(null,arguments)}}},[a("i",{staticClass:"bi bi-envelope-open-fill"}),t._v("example@com")])]),a("li",{staticClass:"footer-contact-list-item-link"},[a("a",{staticClass:"footer-contact-list-item",attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.tagClick.apply(null,arguments)}}},[a("i",{staticClass:"bi bi-telephone-fill"}),t._v("0900-000-000 ")])]),a("li",{staticClass:"footer-contact-list-item"},[a("a",{staticClass:"footer-contact-list-item-link",attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.tagClick.apply(null,arguments)}}},[a("i",{staticClass:"bi bi-pin-map-fill"}),t._v("高雄的某一個角落 ")])])])])])]),t._m(1)])},k=[function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("a",{staticClass:"footer-iconBlock-iconGroup-icon",attrs:{href:"https://github.com/shao0524/cheeseShop"}},[a("i",{staticClass:"fab fa-github fa-2x"})])},function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"footer-footer"},[a("h6",{staticClass:"text-white"},[t._v("© Cheeseny 2021 All Rights Reserved.")]),a("h6",{staticClass:"text-white"},[t._v("僅個人作品練習，無商業用途")])])}],L={methods:{tagClick:function(){alert("網頁為作品使用，無提供此功能")}}},_=L,x=Object(f["a"])(_,$,k,!1,null,null,null),y=x.exports,w={components:{Navbar:v,CartList:m,Footer:y},methods:{scrollTop:function(){r()("html,body").animate({scrollTop:"0px"},1e3)}}},S=w,D=Object(f["a"])(S,s,e,!1,null,null,null);i["default"]=D.exports}}]);
//# sourceMappingURL=chunk-51a6f2ea.5e072185.js.map