(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a9d90cfa"],{"9a87":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("button",{staticClass:"btn text-secondary",class:{"text-danger":t.is_follow},attrs:{type:"button"},on:{click:function(e){t.is_follow?t.removeFavorite():t.addFavorite()}}},[i("i",{staticClass:"fab fa-gratipay fa-2x"})])])},s=[],r={props:["item","is_follow"],methods:{addFavorite:function(){var t=this;t.$bus.$emit("productList:add",t.item),t.$bus.$emit("productInfo:add",t.item),t.$bus.$emit("favorite:add",t.item),t.$bus.$emit("home:add",t.item),t.$bus.$emit("swiper:update"),t.$bus.$emit("Alert:success","".concat(t.item.title,"已加入收藏"))},removeFavorite:function(){var t=this;t.$bus.$emit("productInfo:remove",t.item),t.$bus.$emit("productList:remove",t.item),t.$bus.$emit("favorite:remove",t.item),t.$bus.$emit("home:remove",t.item),t.$bus.$emit("swiper:update"),t.$bus.$emit("Alert:error","".concat(t.item.title,"已從收藏中移除"))}}},o=r,n=i("2877"),c=Object(n["a"])(o,a,s,!1,null,null,null);e["a"]=c.exports},"9d3d":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card shadow-3 border-0 h-100",attrs:{"data-aos":"fade-zoom-in","data-aos-once":"true"}},[i("div",{staticClass:"card-head position-relative"},[i("img",{staticClass:"image",staticStyle:{height:"auto",width:"100%"},attrs:{src:t.item.imageUrl,alt:t.item.title}}),i("router-link",{staticClass:"mask",attrs:{to:"/products/item/"+t.item.id},nativeOn:{click:function(e){return t.$bus.$emit("updateInfo")}}})],1),i("div",{staticClass:"card-body"},[i("h5",{staticClass:"card-title text-center my-1 my-lg-2"},[t._v(" "+t._s(t.item.title)+" ")]),i("h5",{staticClass:"card-title text-center my-1 my-lg-2"},[t._v(" "+t._s(t.item.titleEng)+" ")]),i("div",{staticClass:"mb-3 d-flex card-text justify-content-around"},[t.item.price!=t.item.origin_price?i("del",{staticClass:"mr-3 h5 mb-0"},[t._v(t._s(t._f("currency")(t.item.origin_price)))]):t._e(),i("span",{staticClass:"card-text h5",class:{"text-danger":t.item.price!==t.item.origin_price,"text-dark":t.item.price===t.item.origin_price}},[t._v(" "+t._s(t._f("currency")(t.item.price))+" ")])]),i("div",{staticClass:"text-center"},[i("div",{staticClass:"d-flex justify-content-around"},[i("FavoriteBtn",{attrs:{item:t.item,is_follow:t.is_follow}}),i("button",{staticClass:"btn btn-outline-primary h6",on:{click:function(e){return t.addCart(t.item)}}},[i("i",{staticClass:"fas fa-cart-plus"}),t._v(" 加入購物車 ")])],1)])])])},s=[],r=(i("c740"),i("9a87")),o={props:["item","favorites"],data:function(){return{isClick:!0}},components:{FavoriteBtn:r["a"]},methods:{addCart:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=this;i.$bus.$emit("sidebar:addtoCart",t,e),i.$bus.$emit("navbarCartList:update");var a="".concat(t.title," 加入購物車");i.$bus.$emit("alert",a,!0)}},computed:{is_follow:function(){var t=this,e=this.favorites.findIndex((function(e){return e.id===t.item.id}));return-1!==e}}},n=o,c=i("2877"),l=Object(c["a"])(n,a,s,!1,null,null,null);e["a"]=l.exports},c33e:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrapper"},[i("div",{staticClass:"container"},[t._m(0),i("router-link",{staticClass:"btn my-3",attrs:{to:""},nativeOn:{click:function(e){return t.$router.go(-1)}}},[i("i",{staticClass:"fas fa-arrow-left fa-2x"})]),i("section",{staticClass:"mt-3 favoriteWrapper mx-3 mx-md-0"},[t.len?i("div",{staticClass:"row"},t._l(t.favorites,(function(e){return i("div",{key:e.id,staticClass:"col-12 col-sm-6 col-md-4 col-lg-3 mb-5"},[i("ProductCard",{attrs:{item:e,favorites:t.favorites}})],1)})),0):i("div",{staticClass:"text-center mb-5"},[i("h2",{staticClass:"text-center"},[t._v("目前沒有收藏的商品")]),i("router-link",{staticClass:"btn btn-primary mt-3",attrs:{to:"/products/productList/全部商品"},nativeOn:{click:function(e){return t.slideUpNavbar.apply(null,arguments)}}},[i("i",{staticClass:"fas fa-shopping-cart mr-1"}),t._v("去逛逛吧 ")])],1)])],1)])},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"banner banner-sm",staticStyle:{"background-image":"url('https://images.unsplash.com/photo-1625084561188-0cb22b1d487d?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1920&q=80')"}},[i("div",{staticClass:"banner-mask"},[i("h2",{staticClass:"banner-mask-description"},[t._v("我的收藏")])])])}],r=(i("c740"),i("a434"),i("9d3d")),o={name:"Favorite",components:{ProductCard:r["a"]},data:function(){return{favorites:[]}},methods:{getFavorite:function(){var t=this;t.favorites=JSON.parse(localStorage.getItem("favorites"))||[]},slideUpNavbar:function(){var t=this;t.$bus.$emit("slideUpNavbar")}},computed:{len:function(){return this.favorites.length>0}},created:function(){var t=this;t.getFavorite(),t.$bus.$on("favoritePage:update",(function(){t.getFavorite()})),t.$bus.$on("favorite:add",(function(e){var i=t.favorites.findIndex((function(t){return t.id===e.id}));-1===i&&(t.favorites.push(e),localStorage.setItem("favorites",JSON.stringify(t.favorites)),t.$bus.$emit("navbarFavorites:update"))})),t.$bus.$on("favorite:remove",(function(e){var i=t.favorites.findIndex((function(t){return t.id===e.id}));-1!==i&&(t.favorites.splice(i,1),localStorage.setItem("favorites",JSON.stringify(t.favorites)),t.$bus.$emit("navbarFavorites:update"))}))},beforeDestroy:function(){var t=this;t.$bus.$off("favoritePage:update"),t.$bus.$off("favorite:add"),t.$bus.$off("favorite:remove")}},n=o,c=i("2877"),l=Object(c["a"])(n,a,s,!1,null,null,null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-a9d90cfa.e22db0a2.js.map