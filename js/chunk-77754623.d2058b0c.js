(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-77754623"],{"376b":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"mt-5"},[e("table",{staticClass:"table table-hover table-overflow table-striped table-dark"},[t._m(0),e("tbody",t._l(t.orderList,(function(a){return e("tr",{key:a.id,staticClass:"text-center"},[e("td",{attrs:{width:"250"}},[t._v(t._s(a.id))]),e("td",[t._v(t._s(a.user.name))]),e("td",{attrs:{width:"120"}},[t._v(" "+t._s(t._f("formatTime")(a.create_at))+" ")]),e("td",{attrs:{width:"120"}},[t._v(t._s(t._f("currency")(a.total)))]),e("td",{attrs:{width:"120"}},[t._v(" "+t._s(t._f("formatTime")(a.paid_date))+" ")]),e("td",{attrs:{width:"120"}},[a.is_paid?e("span",{staticClass:"text-success d-block"},[t._v("已付款")]):e("span",{staticClass:"text-danger d-block"},[t._v("尚未付款")])]),e("td",{attrs:{width:"120"}},[e("a",{staticClass:"btn btn-secondary btn-sm",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.openModal(a)}}},[t._v("查看訂單")])])])})),0)]),e("Pagination",{attrs:{pagination:t.pagination},on:{changePage:t.changePage}}),e("div",{staticClass:"modal fade",attrs:{id:"checkModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-xl"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header bg-primary text-white"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v(t._s(t.modalTitle))]),t._m(1)]),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-md-12 col-lg-6 mb-3 mb-lg-0"},[e("div",{staticClass:"card"},[t._m(2),e("div",{staticClass:"card-body"},[e("table",{staticClass:"table"},[e("tbody",[e("tr",[e("th",{staticClass:"text-center bg-primary text-white",attrs:{width:"150"}},[t._v(" 訂購人姓名 ")]),e("td",[t._v(" "+t._s(t.tempOrder.user.name||[])+" ")])]),e("tr",[e("th",{staticClass:"text-center bg-primary text-white",attrs:{width:"150"}},[t._v(" Email ")]),e("td",[t._v(" "+t._s(t.tempOrder.user.email)+" ")])]),e("tr",[e("th",{staticClass:"text-center bg-primary text-white",attrs:{width:"150"}},[t._v(" 電話 ")]),e("td",[t._v(" "+t._s(t.tempOrder.user.tel)+" ")])]),e("tr",[e("th",{staticClass:"text-center bg-primary text-white",attrs:{width:"150"}},[t._v(" 地址 ")]),e("td",[t._v(" "+t._s(t.tempOrder.user.address)+" ")])]),e("tr",[e("th",{staticClass:"text-center bg-primary text-white",attrs:{width:"150"}},[t._v(" 備註 ")]),e("td",[t._v(" "+t._s(t.tempOrder.message)+" ")])])])])])])]),e("div",{staticClass:"col-12 col-md-12 col-lg-6"},[e("div",{staticClass:"card"},[t._m(3),e("div",{staticClass:"card-body"},[e("table",{staticClass:"table",staticStyle:{"max-height":"300px"}},[t._m(4),e("tbody",t._l(t.tempOrder.products,(function(a){return e("tr",{key:a.id,staticClass:"text-center"},[e("td",[t._v(t._s(a.product.title))]),e("td",{attrs:{width:"80"}},[t._v(t._s(a.qty))]),e("td",{staticClass:"text-right",attrs:{width:"120"}},[t._v(" "+t._s(t._f("currency")(a.total))+" ")])])})),0),e("tfoot",[e("tr",{staticClass:"text-right"},[t._m(5),e("td",[e("h5",{staticClass:"text-danger"},[t._v(" "+t._s(t._f("currency")(t.tempOrder.total))+" ")])])])])])])])])])]),t._m(6)])])])],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",{staticClass:"bg-primary"},[e("tr",{staticClass:"text-center"},[e("th",{attrs:{width:"250"}},[t._v("訂單編號")]),e("th",[t._v("訂購人")]),e("th",{attrs:{width:"120"}},[t._v("建立日期")]),e("th",{attrs:{width:"120"}},[t._v("金額")]),e("th",{attrs:{width:"120"}},[t._v("付款日期")]),e("th",{attrs:{width:"120"}},[t._v("付款狀態")]),e("th",{attrs:{width:"120"}},[t._v("訂單資訊")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"close text-white",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"card-header"},[e("div",{staticClass:"card-title"},[e("div",{staticClass:"text-center"},[t._v("訂購人資料")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"card-header"},[e("div",{staticClass:"card-title"},[e("div",{staticClass:"text-center"},[t._v("訂購產品")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",{staticClass:"bg-primary text-white"},[e("tr",{staticClass:"text-center"},[e("th",[t._v("產品名稱")]),e("th",{attrs:{width:"80"}},[t._v("數量")]),e("th",{attrs:{width:"120"}},[t._v("金額")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("td",{attrs:{colspan:"2"}},[e("h5",[t._v("總計：")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" 關閉 ")])])}],r=(e("99af"),e("1157")),n=e.n(r),c=e("d529"),l={name:"AdminOrderList",components:{Pagination:c["a"]},data:function(){return{orderList:[],pagination:{},tempOrder:{user:{}},modalTitle:""}},methods:{getOrders:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("cheeseny","/admin/orders?page=").concat(t,";");a.$bus.$emit("isLoading",!0),this.$http.get(e).then((function(t){t.data.success&&(a.orderList=t.data.orders,a.pagination=t.data.pagination),a.$bus.$emit("isLoading",!1)})).catch((function(t){a.$bus.$emit("isLoading",!1),a.$bus.$emit("Alert:error",t)}))},openModal:function(t){var a=this;a.tempOrder=Object.assign({},t),a.modalTitle="訂單：".concat(t.id),n()("#checkModal").modal("show")},changePage:function(t){var a=this;a.getOrders(t)}},created:function(){this.getOrders()}},d=l,o=e("2877"),h=Object(o["a"])(d,s,i,!1,null,null,null);a["default"]=h.exports},"99af":function(t,a,e){"use strict";var s=e("23e7"),i=e("d039"),r=e("e8b5"),n=e("861d"),c=e("7b0b"),l=e("07fa"),d=e("8418"),o=e("65f0"),h=e("1dde"),u=e("b622"),_=e("2d00"),v=u("isConcatSpreadable"),m=9007199254740991,p="Maximum allowed index exceeded",f=_>=51||!i((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),g=h("concat"),b=function(t){if(!n(t))return!1;var a=t[v];return void 0!==a?!!a:r(t)},C=!f||!g;s({target:"Array",proto:!0,forced:C},{concat:function(t){var a,e,s,i,r,n=c(this),h=o(n,0),u=0;for(a=-1,s=arguments.length;a<s;a++)if(r=-1===a?n:arguments[a],b(r)){if(i=l(r),u+i>m)throw TypeError(p);for(e=0;e<i;e++,u++)e in r&&d(h,u,r[e])}else{if(u>=m)throw TypeError(p);d(h,u++,r)}return h.length=u,h}})},d529:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("nav",{attrs:{"aria-label":"Page navigation example"}},[e("ul",{staticClass:"pagination justify-content-center"},[e("li",{staticClass:"page-item",class:{disabled:!t.pagination.has_pre}},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(a){a.preventDefault(),t.changePage(parseInt(t.pagination.current_page)-1)}}},[e("i",{staticClass:"fas fa-arrow-alt-circle-left"})])]),t._l(t.pagination.total_pages,(function(a,s){return e("li",{key:s,staticClass:"page-item",class:{active:a==t.pagination.current_page}},[e("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.changePage(a)}}},[t._v(t._s(a))])])})),e("li",{staticClass:"page-item",class:{disabled:!t.pagination.has_next}},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(a){a.preventDefault(),t.changePage(parseInt(t.pagination.current_page)+1)}}},[e("i",{staticClass:"fas fa-arrow-alt-circle-right"})])])],2)])])},i=[],r={props:["pagination"],methods:{changePage:function(t){var a=this;console.log(t),a.$emit("changePage",t)}}},n=r,c=e("2877"),l=Object(c["a"])(n,s,i,!1,null,null,null);a["a"]=l.exports}}]);
//# sourceMappingURL=chunk-77754623.d2058b0c.js.map